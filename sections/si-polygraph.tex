% si-polygraph.tex

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Dependency Graph-based Characterization of SI}
  \begin{center}
		\only<4>{
			Suppose that $T_{A} \rel{\WW} T_{B}$
		}
		\only<5>{
			$T_{0} \rel{\WR} T_{A} \land T_{0} \rel{\WW} T_{B}
			  \implies T_{A} \rel{\RW} T_{B}$
		}
		\only<6>{
			$T_{0} \rel{\WR} T_{B} \land T_{0} \rel{\WW} T_{A}
			  \implies T_{A} \rel{\RW} T_{A}$
		}

		\vspace{0.20cm}
		{\input{tikz/banking-lost-update-depgraph-tikz}}
		\vspace{0.20cm}

		\only<2>{
			$\WR$: ``write-read'' dependency capturing the ``read-from'' relation
		}
		\only<3-4>{
			$\WW$: ``write-write'' dependency capturing the version order
		}
		\only<5>{
			$\RW$: ``read-write'' dependency capturing the overwritten relation
		}
		\only<7>{
			undesiable cycle: $T_{A} \rel{\WW} T_{B} \rel{\RW} T_{A}$
		}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Dependency Graph-based Characterization of SI}
  \begin{center}
		% \fig{width = 0.65\textwidth}{figs/causality}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Dependency Graph-based Characterization of SI}
  \begin{center}
		% \fig{width = 0.65\textwidth}{figs/long-fork-wr}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Dependency Graph-based Characterization of SI}
	\begin{center}
		SI is characterised by dependency graphs that contain only \\[5pt]
		cycles with \red{\it at least two adjacent anti-dependency} edges.
	\end{center}

	\vspace{0.20cm}
  \begin{theorem}[Theorem 4.1 of~\ncite{AnalysingSI:JACM2018}]
		For a history \emph{$\H = (\T, \SO)$},
		\emph{\begin{align*}
			\H \models \si & \iff \H \models \intaxiom \;\land \\
				&\red{\exists}\; \WR, \WW, \RW.\; \G = (\H, \WR, \WW, \RW) \;\land \\
				&\quad (((\SO_{\G} \cup \WR_{\G} \cup \WW_{\G}) \comp \RW_{\G}?) \text{\it\; is acyclic}).
		\end{align*}}
  \end{theorem}

	\pause
	\vspace{0.20cm}
	\begin{center}
		enumerate all possible \red{$\WW$} relations \\[5pt]
		and check whether any of them satisfies the ``cycle'' condition.
	\end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Dependency Graph-based Characterization of SI}
  \begin{center}
		explain $\comp$
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Polygraphs: A Family of Dependency Graphs}
	\fig{width = 0.30\textwidth}{figs/polygraph-history}
	\pause
	\begin{columns}
		\column{0.50\textwidth}
			\fig{width = 0.60\textwidth}{figs/polygraph-k-i}
		\column{0.50\textwidth}
		  \pause
			\fig{width = 0.60\textwidth}{figs/polygraph-i-k}
	\end{columns}
	\pause
	\fig{width = 0.30\textwidth}{figs/polygraph}
	\begin{center}
		polygraph: $\tuple{\eithervar \triangleq T_{k} \rel{\WW} T_{i},
		  \orvar \triangleq T_{j} \rel{\RW} T_{k}}$
	\end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{Polygraphs: A Family of Dependency Graphs}
	\begin{columns}[c]
		\column{0.50\textwidth}
			\begin{center}
				\resizebox{0.60\textwidth}{!}{\input{tikz/g-polygraph-T-S-tikz}}
			\end{center}
		\column{0.50\textwidth}
			\begin{center}
				\resizebox{0.60\textwidth}{!}{\input{tikz/g-polygraph-S-T-tikz}}
			\end{center}
	\end{columns}
	\uncover<4->{
		\fig{width = 0.30\textwidth}{figs/g-polygraph}
		\begin{center}
			generalized polygraph: \\[5pt]
			$\tuple{\eithervar \triangleq \set{T \rel{\WW} S, T' \rel{\RW} S},
				    \orvar \triangleq \set{S \rel{\WW} T, S' \rel{\RW} T}}$
		\end{center}
	}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{\textsc{PolySI}}
	\begin{center}
		\resizebox{0.95\textwidth}{!}{\input{tikz/polysi-alg-tikz}}
	\end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%